# Dataset Processing Report

*Processing CSV dataset files (historical, current, or future versions)*

**Generated:** 2025-07-11 09:32:27
**Processing Duration:** 48.469506921s

## 📊 Processing Overview

| Metric | Count |
|--------|-------|
| Files Processed | 3 |
| Files Skipped | 0 |
| Total Restaurants Found | 20114 |
| New Restaurants Added | 3701 |
| Existing Restaurants | 16413 |
| Awards Added | 5841 |
| Awards Skipped (duplicates) | 10572 |
| Processing Errors | 3701 |
| Records Skipped | 0 |

## 📁 File Processing Details

*Files processed in chronological order (oldest first)*

### 2022-03-13_michelin_my_maps 2.csv (Year: 2022, Date: 2022-03-13)

| Metric | Count |
|--------|-------|
| Restaurants Found | 6502 |
| New Restaurants | 1514 |
| Existing Restaurants | 4988 |
| Awards Added | 2722 |
| Awards Skipped | 2266 |
| Processing Errors | 1514 |
| Records Skipped | 0 |

### 2023-01-16_michelin_my_maps 2.csv (Year: 2023, Date: 2023-01-16)

| Metric | Count |
|--------|-------|
| Restaurants Found | 6780 |
| New Restaurants | 1159 |
| Existing Restaurants | 5621 |
| Awards Added | 3015 |
| Awards Skipped | 2606 |
| Processing Errors | 1159 |
| Records Skipped | 0 |

### 2023-07-30_michelin_my_maps 2.csv (Year: 2023, Date: 2023-07-30)

| Metric | Count |
|--------|-------|
| Restaurants Found | 6832 |
| New Restaurants | 1028 |
| Existing Restaurants | 5804 |
| Awards Added | 104 |
| Awards Skipped | 5700 |
| Processing Errors | 1028 |
| Records Skipped | 0 |

## 🏆 Awards Distribution

| Award Type | Count |
|------------|-------|
| 1 Star | 2213 |
| Bib Gourmand | 3268 |
| 3 Stars | 58 |
| 2 Stars | 302 |

## 📈 Summary

- **Success Rate:** 81.60% of restaurants processed successfully
- **New Restaurants:** 3701 restaurants added (InGuide status based on CSV age)
- **Existing Restaurants:** 16413 restaurants found in current database (InGuide status preserved)
- **Awards Added:** 5841 new dataset awards added
- **Duplicates Prevented:** 10572 awards skipped (same restaurant, same year)
- **⚠️ Processing Errors:** 3701 restaurants failed to process

## 📝 Processing Notes

- **Date Detection:** Dates extracted from filenames (YYYY-MM-DD pattern) or file creation date as fallback
- **Chronological Order:** Files processed oldest first for proper historical progression
- **Restaurant Matching:** Restaurants matched by website URL (primary) or Michelin Guide URL (fallback)
- **Duplicate Prevention:** Awards for same restaurant and year are automatically skipped
- **Future Support:** Can process historical, current, and future dataset versions
- **InGuide Logic:** SQLite database is the source of truth for current guide status
  - **Recent CSV files** (last month): New restaurants get InGuide=true + Michelin URL
  - **Historical CSV files** (older): New restaurants get InGuide=false, no Michelin URL import
  - **Existing restaurants:** InGuide status preserved from current database

---
*Report generated by Michelin My Maps Dataset Processor*
