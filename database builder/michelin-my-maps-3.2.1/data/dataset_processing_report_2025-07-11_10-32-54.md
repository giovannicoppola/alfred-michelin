# Dataset Processing Report

*Processing CSV dataset files (historical, current, or future versions)*

**Generated:** 2025-07-11 10:32:54
**Processing Duration:** 90.032568ms

## 📊 Processing Overview

| Metric | Count |
|--------|-------|
| Files Processed | 3 |
| Files Skipped | 0 |
| Total Restaurants Found | 20114 |
| New Restaurants Added | 2 |
| Existing Restaurants | 10 |
| Awards Added | 2 |
| Awards Skipped (duplicates) | 10 |
| Processing Errors | 0 |
| Records Skipped | 0 |

## 📁 File Processing Details

*Files processed in chronological order (oldest first)*

### 2022-03-13_michelin_my_maps 2.csv (Year: 2022, Date: 2022-03-13)

| Metric | Count |
|--------|-------|
| Restaurants Found | 6502 |
| New Restaurants | 1 |
| Existing Restaurants | 3 |
| Awards Added | 1 |
| Awards Skipped | 3 |
| Processing Errors | 0 |
| Records Skipped | 0 |

### 2023-01-16_michelin_my_maps 2.csv (Year: 2023, Date: 2023-01-16)

| Metric | Count |
|--------|-------|
| Restaurants Found | 6780 |
| New Restaurants | 1 |
| Existing Restaurants | 3 |
| Awards Added | 1 |
| Awards Skipped | 3 |
| Processing Errors | 0 |
| Records Skipped | 0 |

### 2023-07-30_michelin_my_maps 2.csv (Year: 2023, Date: 2023-07-30)

| Metric | Count |
|--------|-------|
| Restaurants Found | 6832 |
| New Restaurants | 0 |
| Existing Restaurants | 4 |
| Awards Added | 0 |
| Awards Skipped | 4 |
| Processing Errors | 0 |
| Records Skipped | 0 |

## 🏆 Awards Distribution

| Award Type | Count |
|------------|-------|
| 3 Stars | 2 |

## 📈 Summary

- **Success Rate:** 100.00% of restaurants processed successfully
- **New Restaurants:** 2 restaurants added as dataset entries (InGuide=false for historical data)
- **Existing Restaurants:** 10 restaurants found in current database
- **Awards Added:** 2 new dataset awards added
- **Duplicates Prevented:** 10 awards skipped (same restaurant, same year)

## 📝 Processing Notes

- **Date Detection:** Dates extracted from filenames (YYYY-MM-DD pattern) or file creation date as fallback
- **Chronological Order:** Files processed oldest first for proper historical progression
- **Restaurant Matching:** Restaurants matched by website URL (primary) or Michelin Guide URL (fallback)
- **Duplicate Prevention:** Awards for same restaurant and year are automatically skipped
- **Future Support:** Can process historical, current, and future dataset versions
- **InGuide Logic:** SQLite database is the source of truth for current guide status
  - **Recent CSV files** (last month): New restaurants get InGuide=true + Michelin URL
  - **Recent CSV files** (last month): Existing restaurants missing from CSV get InGuide=false
  - **Recent CSV files** (last month): Existing restaurants in CSV keep InGuide=true + add awards
  - **Historical CSV files** (older): New restaurants get InGuide=false, keep URL for reference
  - **Historical CSV files** (older): Existing restaurants preserve InGuide status, only add awards

---
*Report generated by Michelin My Maps Dataset Processor*
